<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Admin Dashboard</title>
    <!-- Bootstrap CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/mainAdmin.css">
</head>
<body>
<div class="container my-4">
    <h1 class="text-center"> Administración ECO-BOOST</h1>

    <!-- Formulario de búsqueda -->
    <form class="form-inline my-3" action="/path/admin" method="get">
        <input type="text" class="form-control mr-2" id="palabraClave" name="palabraClave" placeholder="Buscar productos" />
        <button type="submit" class="btn btn-primary">Buscar</button>
    </form>

    <!-- Tabla de Usuarios -->
    <h2>Lista de Usuarios</h2>
    <table class="table table-striped table-hover">
        <thead class="thead-green">
        <tr>
            <th>ID</th>
            <th>Documento</th>
            <th>Nombre</th>
            <th>Apellido</th>
            <th>Correo</th>
            <th>Contacto</th>
            <th>Fecha de Nacimiento</th>
            <th>Dirección</th>
            <th>Rol</th>
            <th>Acciones</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="usuario : ${usuarios}">
            <td th:text="${usuario.id}"></td>
            <td th:text="${usuario.documento}"></td>
            <td th:text="${usuario.nombre}"></td>
            <td th:text="${usuario.apellido}"></td>
            <td th:text="${usuario.correo}"></td>
            <td th:text="${usuario.contacto}"></td>
            <td th:text="${usuario.fechaNacimiento}"></td>
            <td th:text="${usuario.direccion}"></td>
            <td th:text="${usuario.rol.nombre}"></td> <!-- Ajusta según tu entidad Rol -->
            <td>
                <a th:href="@{/editUser/{id}(id=${usuario.id})}" class="btn btn-sm btn-warning">Editar</a>
                <a th:href="@{/deleteUser/{id}(id=${usuario.id})}" class="btn btn-sm btn-danger" onclick="return confirm('¿Estás seguro de que deseas eliminar este usuario?')">Eliminar</a>
            </td>
        </tr>
        </tbody>
    </table>

    <!-- Tabla de Productos -->
    <h2>Lista de Productos</h2>
    <table class="table table-striped table-hover">
        <thead class="thead-green2">
        <tr>
            <th>ID</th>
            <th>Documento Vendedor</th>
            <th>Nombre Producto</th>
            <th>Valor</th>
            <th>Descripción</th>
            <th>Imagen</th>
            <th>Cantidad en Stock</th>
            <th>Categoría</th>
            <th>Acciones</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="producto : ${productos}">
            <td th:text="${producto.id}"></td>
            <td th:text="${producto.documentoVendedor}"></td>
            <td th:text="${producto.nombre_producto}"></td>
            <td th:text="${producto.valor}"></td>
            <td th:text="${producto.descripcion}"></td>
            <td><img th:src="@{/uploads/{nombreImagen}(nombreImagen=${producto.imagenProducto})}"
                     class="img-admin-size" alt="Imagen del Producto"loading="lazy"></td>
            <td th:text="${producto.cantidadStock}"></td>
            <td th:text="${producto.categoria.categoria}"></td> <!-- Ajusta según tu entidad Category -->
            <td>
                <a th:href="@{/editProduct/{id}(id=${producto.id})}" class="btn btn-sm btn-warning">Editar</a>
                <a th:href="@{/deleteProduct/{id}(id=${producto.id})}" class="btn btn-sm btn-danger" onclick="return confirm('¿Estás seguro de que deseas eliminar este producto?')">Eliminar</a>
            </td>
        </tr>
        </tbody>
    </table>
</div>

<!-- Bootstrap JS and dependencies -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.0.7/dist/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>